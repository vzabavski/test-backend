(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{138:function(e,t,a){},164:function(e,t,a){},172:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(13),i=a.n(r),o=a(20),s=a(53),l=a(96),d=a(16),u=a(12),j="SET_COUNTRIES",p="SET_COUNTRY_ID",h="SET_ACTIVE_COUNTRY_DATA",b="SET_ACTIVE_COUNTRY_WEATHER",m="TOOGLE_IS_LOADING",g="TOOGLE_IS_WEATHER_LOADING",O="SET_SEARCH_VALUE",x="SET_EXCHANGE_USD",f="SET_EXCHANGE_EUR",v={countries:[],filteredCountries:[],activeCountryId:"",activeCountryData:{capital:"",name:"",info:"",img:"",_id:"",sights:[],map:[]},exchangeRateUSD:null,exchangeRateEUR:null,isLoading:!0,weather:null,isWeatherLoading:!0,searchValue:""},y=function(e){return{type:p,id:e}},C=function(e){return{type:h,data:e}},w=function(e){return{type:m,isLoading:e}},k=function(e){return{type:O,searchValue:e}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(u.a)(Object(u.a)({},e),{},{countries:Object(d.a)(t.countries)});case p:return Object(u.a)(Object(u.a)({},e),{},{activeCountryId:t.id});case h:return Object(u.a)(Object(u.a)({},e),{},{activeCountryData:t.data});case b:return Object(u.a)(Object(u.a)({},e),{},{weather:t.data});case m:return Object(u.a)(Object(u.a)({},e),{},{isLoading:t.isLoading});case g:return Object(u.a)(Object(u.a)({},e),{},{isWeatherLoading:t.isWeatherLoading});case O:return Object(u.a)(Object(u.a)({},e),{},{searchValue:t.searchValue,filteredCountries:Object(d.a)(e.countries.filter((function(e){return e.name.toLowerCase().includes(t.searchValue.toLowerCase())||e.capital.toLowerCase().includes(t.searchValue.toLowerCase())})))});case x:return Object(u.a)(Object(u.a)({},e),{},{exchangeRateUSD:[t.exchangeRateUSD,t.countryCurrency]});case f:return Object(u.a)(Object(u.a)({},e),{},{exchangeRateEUR:[t.exchangeRateEUR,t.countryCurrency]});default:return e}},S=Object(s.combineReducers)({countries:N}),L=Object(s.createStore)(S,Object(l.devToolsEnhancer)({})),E=(a(138),a(28)),I=a(25),R=a.n(I),D=a(23),U=a(45),W=a(18),T=a(223),z=a(210),A=a(15),B=a.n(A),_=a(29),G=a(204),M=a(225),V=a(175),H=a(226),F=a(209),P=a(102),q=a.n(P),Y=a(110),J=a(202),X=Object(J.a)((function(e){return{formWrapper:{display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},authWrapper:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:e.spacing(8)},uploadLabel:{display:"flex",justifyContent:"center"},uploadBtn:{borderRadius:"20px"}}})),K=a(2),Q=function(e){var t=e.isSignUp,a=X(),c=Object(U.f)(),r=Object(n.useState)(""),i=Object(W.a)(r,2),o=i[0],s=i[1],l=Object(n.useState)(""),d=Object(W.a)(l,2),j=d[0],p=d[1],h=Object(n.useState)("https://www.iconspng.com/images/-abstract-user-icon-1/-abstract-user-icon-1.jpg"),b=Object(W.a)(h,2),m=b[0],g=b[1],O=Object(n.useState)("Upload photo"),x=Object(W.a)(O,2),f=x[0],v=x[1],y=Object(Y.a)({mode:"onBlur"}),C=y.register,w=y.handleSubmit,k=y.errors,N=function(){var e=Object(_.a)(B.a.mark((function e(a){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.next=3,R.a.post("https://travel-app-prod.herokuapp.com/users/registration",Object(u.a)(Object(u.a)({},a),{},{avatar:m}));case 3:n=e.sent;case 4:return e.next=6,R.a.post("https://travel-app-prod.herokuapp.com/users/login",a);case 6:return n=e.sent,localStorage.setItem("token",n.data.token),c.push("/"),e.abrupt("return",n.data);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(_.a)(B.a.mark((function e(t){var a,n,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v("Uploading..."),a=Array.from(t.target.files),n=new FormData,a.forEach((function(e,t){n.append(String(t),e)})),e.next=6,R.a.post("https://travel-app-prod.herokuapp.com/avatar/create",n);case 6:c=e.sent,v("Uploaded"),g(c.data.url);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(K.jsxs)(G.a,{maxWidth:"xs",className:a.formWrapper,children:[Object(K.jsx)(M.a,{className:a.avatar,children:Object(K.jsx)(q.a,{})}),Object(K.jsx)(V.a,{variant:"h5",children:t?"Sing up":"Log in"}),Object(K.jsxs)("form",{className:a.form,onSubmit:w(N),children:[k.username&&Object(K.jsx)("span",{style:{color:"red"},children:"Username is required"}),Object(K.jsx)(H.a,{inputRef:C({required:!0}),value:o,onChange:function(e){s(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0}),k.password&&Object(K.jsx)("span",{style:{color:"red"},children:"Password must be more than 4 symbols"}),Object(K.jsx)(H.a,{inputRef:C({required:!0,minLength:4}),value:j,onChange:function(e){p(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),t?Object(K.jsxs)("label",{htmlFor:"upload-photo",className:a.uploadLabel,children:[Object(K.jsx)("input",{style:{display:"none"},id:"upload-photo",name:"upload-photo",type:"file",onChange:S}),Object(K.jsx)(F.a,{className:a.uploadBtn,color:"secondary",variant:"contained",component:"span",children:f})]}):"",Object(K.jsx)(F.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,children:t?"Sign up":"Log in"})]})]})},Z=a(222),$=function(e){var t=e.children,a=e.value,n=e.index,c=Object(E.a)(e,["children","value","index"]);return Object(K.jsx)("div",Object(u.a)(Object(u.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},c),{},{children:a===n&&Object(K.jsx)(Z.a,{p:3,children:t})}))};function ee(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var te=function(){var e=X(),t=c.a.useState(0),a=Object(W.a)(t,2),n=a[0],r=a[1];return Object(K.jsxs)("div",{className:e.authWrapper,children:[Object(K.jsxs)(T.a,{value:n,onChange:function(e,t){r(t)},"aria-label":"simple tabs example",children:[Object(K.jsx)(z.a,Object(u.a)({label:"Sign up"},ee(0))),Object(K.jsx)(z.a,Object(u.a)({label:"Log in"},ee(1)))]}),Object(K.jsx)($,{value:n,index:0,children:Object(K.jsx)(Q,{isSignUp:!0})}),Object(K.jsx)($,{value:n,index:1,children:Object(K.jsx)(Q,{})})]})},ae=a(213),ne=a(214),ce=a(215),re=a(216),ie=a(217),oe=a(112),se=a(211),le=a(103),de=a(229),ue=Object(J.a)((function(e){return Object(de.a)({root:{flexGrow:1,fontWeight:600},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}})})),je=Object(o.b)((function(e){var t,a,n;return{isWeatherLoading:e.countries.isWeatherLoading,countryName:null===e||void 0===e||null===(t=e.countries)||void 0===t||null===(a=t.weather)||void 0===a||null===(n=a.sys)||void 0===n?void 0:n.country,exchangeRateEUR:e.countries.exchangeRateEUR,exchangeRateUSD:e.countries.exchangeRateUSD}}),{setExchangeUSD:function(e,t){return{type:x,exchangeRateUSD:e,countryCurrency:t}},setExchangeEUR:function(e,t){return{type:f,exchangeRateEUR:e,countryCurrency:t}}})((function(e){var t=e.countryName,a=e.exchangeRateUSD,c=e.exchangeRateEUR,r=Object(E.a)(e,["countryName","exchangeRateUSD","exchangeRateEUR"]),i=ue();return Object(n.useEffect)((function(){t&&function(){var e=Object(le.getParamByISO)(t,"currency"),a="https://api.exchangeratesapi.io/latest?symbols=".concat(e,"&base=USD"),n="https://api.exchangeratesapi.io/latest?symbols=".concat(e,"&base=EUR");R.a.get(a).then((function(t){var a=t.data;"USD"===e?r.setExchangeUSD(null,"USD"):r.setExchangeUSD(a,e)})),R.a.get(n).then((function(t){var a=t.data;"EUR"===e?r.setExchangeUSD(null,"EUR"):r.setExchangeEUR(a,e)}))}()}),[t]),Object(K.jsx)("div",{className:i.root,children:Object(K.jsxs)(se.a,{container:!0,spacing:3,style:{width:"100%",margin:"0"},children:[Object(K.jsx)(se.a,{item:!0,xs:8,style:{margin:"0 auto"},children:Object(K.jsx)(oe.a,{className:i.paper,children:"Exchange rates"})}),Object(K.jsx)(se.a,{item:!0,xs:8,sm:6,style:{margin:"0 auto"},children:Object(K.jsxs)(oe.a,{className:i.paper,children:["1 EUR ="," ",c?c[0].rates[c[1]].toFixed(3):"1 EUR"," ",c?c[1]:""]})}),Object(K.jsx)(se.a,{item:!0,xs:8,sm:6,style:{margin:"0 auto"},children:Object(K.jsxs)(oe.a,{className:i.paper,children:["1 USD = ",a?a[0].rates[a[1]].toFixed(3):""," ",a?a[1]:"1 USD"]})})]})})})),pe=a(7),he=Object(J.a)((function(e){return Object(de.a)({countryListTitle:{textAlign:"center"},countryList:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center",padding:"0"},countryCard:{maxWidth:320,maxHeight:500,minWidth:250,flexBasis:"30%",margin:e.spacing(1)},countryCardTitle:Object(pe.a)({},e.breakpoints.down("sm"),{fontSize:e.spacing(3)}),countryCardInfo:{overflow:"hidden",height:"142px"},countryPage:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"0"},countryName:Object(pe.a)({fontSize:e.spacing(5),marginTop:"15px"},e.breakpoints.down("sm"),{fontSize:e.spacing(3)}),capitalName:Object(pe.a)({fontSize:e.spacing(5)},e.breakpoints.down("sm"),{fontSize:e.spacing(2)}),countryInfo:{overflow:"hidden",padding:"20px 20px"},sightList:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center",padding:"0"},sightCard:{width:"100%",height:"100%",maxWidth:320,maxHeight:320,minWidth:250,flexBasis:"30%",margin:e.spacing(1)},sightCardTitle:Object(pe.a)({fontSize:e.spacing(3)},e.breakpoints.down("sm"),{fontSize:e.spacing(2)}),sightCardInfo:Object(pe.a)({overflow:"hidden",fontSize:e.spacing(2)},e.breakpoints.down("sm"),{fontSize:"14px"}),widgets:Object(pe.a)({display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},e.breakpoints.down("sm"),{flexDirection:"column"}),mapWrapper:Object(pe.a)({width:"50vw",height:"30vw"},e.breakpoints.down("sm"),{height:"50vw"})})})),be=a(212),me=(a(164),["ru","en","be"]),ge="header-mobile-menu",Oe=Object(J.a)((function(e){var t;return Object(de.a)((t={weatherWrapper:{textAlign:"center",padding:e.spacing(1),border:"2px solid #00000024;",color:"rgba(0, 0, 0, 0.9)",fontWeight:600},weather:Object(pe.a)({marginRight:"20px"},e.breakpoints.down("sm"),{marginRight:"0"})},Object(pe.a)(t,e.breakpoints.down("sm"),{marginBottom:"15px"}),Object(pe.a)(t,"temp",{fontSize:"18px",fontWeight:600}),t))})),xe=Object(o.b)((function(e){return{weather:e.countries.weather,isWeatherLoading:e.countries.isWeatherLoading}}),{setActiveCountryWeather:function(e){return{type:b,data:e}},toogleIsWeatherLoading:function(e){return{type:g,isWeatherLoading:e}}})((function(e){e.capital;var t=e.weather,a=e.isWeatherLoading,c=e.map,r=Object(E.a)(e,["capital","weather","isWeatherLoading","map"]),i=Oe(),o="http://api.openweathermap.org/data/2.5/weather?lat=".concat(c.lat,"&lon=").concat(c.lng,"&units=metric&appid=").concat("87b8c08d8c4807e8a23d6a40d387f83f"),s="owf owf-".concat(null===t||void 0===t?void 0:t.weather[0].id," owf-5x"),l=Object(n.useState)(new Date),d=Object(W.a)(l,2),u=d[0],j=d[1],p=new Date;return Object(n.useEffect)((function(){R.a.get(o).then((function(e){var t=e.data;r.setActiveCountryWeather(t),r.toogleIsWeatherLoading(!1)}))}),[]),Object(n.useEffect)((function(){var e=setInterval((function(){var e=60*((null===t||void 0===t?void 0:t.timezone)/60+p.getTimezoneOffset())*1e3;j(new Date(p.getTime()+e))}),1e3);return function(){return clearInterval(e)}})),Object(K.jsx)("div",{className:i.weather,children:a?Object(K.jsx)(be.a,{size:35}):Object(K.jsxs)("div",{className:i.weatherWrapper,children:[Object(K.jsx)("div",{className:"",children:u.toDateString()}),Object(K.jsx)("div",{className:"",children:u.toLocaleTimeString()}),Object(K.jsx)("i",{className:s}),Object(K.jsxs)("div",{className:i.temp,children:[Math.round(null===t||void 0===t?void 0:t.main.temp)," \xb0C"]}),Object(K.jsx)("div",{children:null===t||void 0===t?void 0:t.weather[0].description})]})})})),fe=Object(J.a)((function(){return Object(de.a)({preloaderContainer:{display:"flex",alignItems:"center",justifyContent:"center",height:"400px"}})})),ve=function(){var e=fe();return Object(K.jsx)("div",{className:e.preloaderContainer,children:Object(K.jsx)(be.a,{size:80})})},ye=a(104),Ce=a.n(ye),we=Object(J.a)((function(e){return Object(de.a)({video:Object(pe.a)({marginBottom:"20px"},e.breakpoints.down("sm"),{width:"310px !important"})})})),ke=function(e){var t=e.src,a=we();return Object(K.jsx)(Ce.a,{url:t,controls:!0,className:a.video})},Ne=Object(o.b)((function(e){return{activeCountryData:e.countries.activeCountryData,isLoading:e.countries.isLoading}}),{setCountryData:C,toogleIsLoading:w})((function(e){var t=e.activeCountryData,a=e.location,c=e.isLoading,r=Object(E.a)(e,["activeCountryData","location","isLoading"]),i=a.pathname,s=t.name,l=t.capital,d=t.info,u=t.sights,j=t.map,p=t.video,h=Object(o.c)(),b=he();return Object(n.useEffect)((function(){r.toogleIsLoading(!0),R.a.get("https://travel-app-prod.herokuapp.com/countries/".concat(i.slice(9))).then((function(e){var t=e.data;h(y(null===i||void 0===i?void 0:i.slice(9))),h(C(t)),r.toogleIsLoading(!1)}))}),[]),Object(K.jsx)("div",{className:b.countryPage,children:c?Object(K.jsx)(ve,{}):Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)("div",{className:b.countryName,children:s}),Object(K.jsx)("div",{className:b.capitalName,children:l}),Object(K.jsx)("div",{className:b.countryInfo,children:d}),Object(K.jsx)("div",{className:b.sightList,children:u.map((function(e){var t=e.name,a=e.description,n=e.img;return Object(K.jsxs)(ae.a,{className:b.sightCard,children:[Object(K.jsxs)(ne.a,{children:[Object(K.jsx)(ce.a,{component:"img",alt:"Contemplative Reptile",height:"140",image:n,title:"Contemplative Reptile"}),Object(K.jsxs)(re.a,{children:[Object(K.jsx)(V.a,{className:b.sightCardTitle,gutterBottom:!0,variant:"h4",component:"h2",children:t}),Object(K.jsx)(V.a,{className:b.sightCardInfo,variant:"body2",color:"textSecondary",component:"p",children:a})]})]}),Object(K.jsxs)(ie.a,{children:[Object(K.jsx)(F.a,{size:"small",color:"primary",children:"Go"}),Object(K.jsx)(F.a,{size:"small",color:"primary",children:"Like"})]})]},t)}))}),Object(K.jsxs)("div",{className:b.widgets,children:[Object(K.jsx)(xe,{map:j}),Object(K.jsx)(je,{})]}),Object(K.jsx)(ke,{src:p})]})})})),Se=a(218),Le=a(219),Ee=a(105),Ie=a.n(Ee),Re=Object(J.a)((function(e){return Object(de.a)({footerBlock:{width:"100%"},footerInner:Object(pe.a)({position:"fixed",maxWidth:"1280px",width:"100%",margin:"0 auto",bottom:"0px",padding:"0 15px",backgroundColor:"#3f51b5",color:"white"},e.breakpoints.up("xl"),{backgroundColor:"white",color:"#3f51b5"}),footerContent:Object(pe.a)({display:"flex",alignItems:"center",justifyContent:"space-around",minHeight:"64px"},e.breakpoints.down("xs"),{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}),linkContent:Object(pe.a)({display:"flex",alignItems:"center",width:"50%",justifyContent:"space-around"},e.breakpoints.down("xs"),{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}),appYear:{textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},linkBox:{textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"},rsLogo:{minWidth:"160px"},logoImg:{maxHeight:"30px",maxWidth:"180px"}})})),De=function(){var e=Re();return Object(K.jsx)("div",{className:e.footerBlock,children:Object(K.jsx)(Se.a,{position:"static",children:Object(K.jsx)("div",{className:e.footerInner,children:Object(K.jsxs)("div",{className:e.footerContent,children:[Object(K.jsx)("div",{className:e.appYear,children:Object(K.jsx)(V.a,{children:"2021"})}),Object(K.jsxs)("div",{className:e.linkContent,children:[Object(K.jsxs)("div",{children:[" ",Object(K.jsx)(Ie.a,{})]}),Object(K.jsx)("div",{className:e.linkBox,children:Object(K.jsx)(Le.a,{href:"https://github.com/DmitryBogdan90",color:"inherit",children:Object(K.jsx)(V.a,{children:"DmitryBogdan90"})})}),Object(K.jsx)("div",{className:e.linkBox,children:Object(K.jsx)(Le.a,{href:"https://github.com/vzabavski",color:"inherit",children:Object(K.jsx)(V.a,{children:" vzabavski"})})}),Object(K.jsx)("div",{className:e.linkBox,children:Object(K.jsx)(Le.a,{href:"https://github.com/zhenya-band",color:"inherit",children:Object(K.jsx)(V.a,{children:" zhenya-band"})})}),Object(K.jsx)("div",{className:e.linkBox,children:Object(K.jsx)(Le.a,{href:"https://github.com/Gypsynkov",color:"inherit",children:Object(K.jsx)(V.a,{children:" Gypsynkov"})})})]}),Object(K.jsx)("div",{className:e.rsLogo,children:Object(K.jsx)(Le.a,{href:"https://rs.school/js/",children:Object(K.jsx)("img",{className:e.logoImg,src:"https://rs.school/images/rs_school_js.svg",alt:"rsschool logo"})})})]})})})})},Ue=a(220),We=a(221),Te=a(108),ze=a.n(Te),Ae=a(208),Be=a(228),_e=a(224),Ge=a(230),Me=a(22),Ve=Object(J.a)((function(e){var t,a,n;return Object(de.a)({root:{flexGrow:1},headerInner:Object(pe.a)({maxWidth:"1280px",width:"100%",margin:"0 auto",padding:"0 15px"},e.breakpoints.up("md"),{padding:"0 40px"}),menuButton:{marginRight:e.spacing(2)},title:Object(pe.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:(t={display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Me.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Me.b)(e.palette.common.white,.25)},marginLeft:0,marginRight:e.spacing(0),width:"100%"},Object(pe.a)(t,e.breakpoints.up("sm"),{marginLeft:e.spacing(5),marginRight:e.spacing(5),width:"auto"}),Object(pe.a)(t,e.breakpoints.up("md"),{marginRight:e.spacing(35)}),t),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},clear:{display:"flex",outline:"none",background:"transparent",border:"none",color:"inherit","&:hover":{cursor:"pointer",transform:"scale(1.15)"}},inputRoot:{color:"inherit"},inputInput:Object(pe.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(pe.a)({display:"none"},e.breakpoints.up("md"),{display:"flex",alignItems:"center"}),sectionMobile:Object(pe.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),homeMobile:Object(pe.a)({display:"block"},e.breakpoints.up("sm"),{display:"none"}),formControl:(a={minWidth:65,margin:0},Object(pe.a)(a,e.breakpoints.up("md"),{margin:e.spacing(0,5,0,1)}),Object(pe.a)(a,"& svg",Object(pe.a)({},e.breakpoints.up("md"),{color:"#fff"})),a),selectEmpty:(n={color:"#000",marginTop:e.spacing(2)},Object(pe.a)(n,e.breakpoints.up("md"),{color:"#fff"}),Object(pe.a)(n,"&:before",Object(pe.a)({borderColor:"#fff"},e.breakpoints.up("md"),{color:"#000"})),n),selectLabel:Object(pe.a)({color:"#000"},e.breakpoints.up("md"),{color:"#fff"}),tools:{display:"flex",alignItems:"center",flexGrow:1,justifyContent:"flex-end"}})})),He=function(e){var t=e.lang,a=e.handleLangChange,n=Ve();return Object(K.jsxs)(Ae.a,{className:n.formControl,focused:!1,children:[Object(K.jsx)(Be.a,{className:n.selectLabel,shrink:!0,id:"select-placeholder",children:"Language"}),Object(K.jsx)(_e.a,{labelId:"select-lang-label",id:"select-lang-label",value:t,onChange:a,displayEmpty:!0,className:n.selectEmpty,children:me.map((function(e){return Object(K.jsx)(Ge.a,{value:e,children:e},e)}))})]})},Fe=function(e){var t=e.isAuthorized;return Object(K.jsx)(K.Fragment,{children:t?Object(K.jsx)(F.a,{color:"inherit",onClick:function(){localStorage.removeItem("token")},children:"Log out"}):Object(K.jsx)(D.b,{to:"/auth",children:Object(K.jsx)(F.a,{color:"inherit",children:"Login"})})})},Pe=function(){var e=Ve();return Object(K.jsx)(D.b,{to:"/",children:Object(K.jsx)(V.a,{className:e.title,variant:"h6",noWrap:!0,children:"Travel app"})})},qe=a(109),Ye=function(e){var t=e.isMenuOpen,a=e.handleMobileMenu,n=e.mobileMenuAnchorEl,c=e.menuItems;return Object(K.jsx)(qe.a,{id:ge,keepMounted:!0,anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:t,onClose:a,children:c.map((function(e){return Object(K.jsx)(Ge.a,{onClick:a,children:e.content},e.id)}))})},Je=a(113),Xe=a(106),Ke=a.n(Xe),Qe=a(107),Ze=a.n(Qe),$e=Object(o.b)((function(e){return{searchValue:e.countries.searchValue}}),{onSearch:k})((function(e){var t=e.searchValue,a=Object(E.a)(e,["searchValue"]),c=Ve(),r=Object(n.useRef)(null);return Object(K.jsxs)("div",{className:c.search,children:[Object(K.jsx)("div",{className:c.searchIcon,children:Object(K.jsx)(Ke.a,{})}),Object(K.jsx)(Je.a,{autoFocus:!0,inputRef:r,placeholder:"Search\u2026",value:t,onChange:function(e){a.onSearch(e.target.value)},onKeyPress:function(e){var t;"Enter"===e.key&&(null===r||void 0===r||null===(t=r.current)||void 0===t||t.blur())},classes:{root:c.inputRoot,input:c.inputInput},inputProps:{"aria-label":"search"}}),Object(K.jsx)("button",{type:"button",className:c.clear,onClick:function(){a.onSearch("")},children:Object(K.jsx)(Ze.a,{})})]})})),et=Object(U.g)((function(e){var t=e.location,a=Ve(),c=Object(n.useState)(window.navigator.language.slice(0,2)),r=Object(W.a)(c,2),i=r[0],o=r[1],s=Object(n.useState)(!1),l=Object(W.a)(s,2),d=l[0],u=l[1],j=Object(n.useState)(null),p=Object(W.a)(j,2),h=p[0],b=p[1],m=function(e){o(e.target.value)},g=function(e){b(h?null:e.currentTarget)};Object(n.useEffect)((function(){var e=localStorage.getItem("token");u(!!e)}),[]);var O=[{id:1,content:Object(K.jsx)(D.b,{to:"/",children:"Home"})},{id:2,content:d?Object(K.jsx)(D.b,{to:"/",children:"Log out"}):Object(K.jsx)(D.b,{to:"/auth",children:"Log in"})},{id:3,content:Object(K.jsx)(He,{lang:i,handleLangChange:m})}];return Object(K.jsxs)("div",{className:a.root,children:[Object(K.jsx)(Se.a,{position:"static",children:Object(K.jsxs)(Ue.a,{className:a.headerInner,children:[Object(K.jsx)(Pe,{}),Object(K.jsxs)("div",{className:a.tools,children:["/"===t.pathname&&Object(K.jsx)($e,{}),Object(K.jsxs)("div",{className:a.sectionDesktop,children:[Object(K.jsx)(He,{lang:i,handleLangChange:m}),Object(K.jsx)(Fe,{isAuthorized:d})]})]}),Object(K.jsx)("div",{className:a.sectionMobile,children:Object(K.jsx)(We.a,{"aria-label":"show more","aria-controls":ge,"aria-haspopup":"true",onClick:g,color:"inherit",children:Object(K.jsx)(ze.a,{})})})]})}),Object(K.jsx)(Ye,{menuItems:O,isMenuOpen:!!h,handleMobileMenu:g,mobileMenuAnchorEl:h})]})})),tt=Object(o.b)((function(e){return{countries:e.countries.countries,isLoading:e.countries.isLoading,filteredCountries:e.countries.filteredCountries}}))((function(e){var t=e.filteredCountries,a=e.isLoading,n=he(),c=Object(o.c)(),r=function(e){c(y(e))};return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)("h1",{className:n.countryListTitle,children:"Travel app"}),a?Object(K.jsx)(ve,{}):Object(K.jsx)("ul",{className:n.countryList,children:t.map((function(e){var t=e._id,a=e.capital,c=e.name,i=e.img,o=e.info;return Object(K.jsxs)(ae.a,{className:n.countryCard,children:[Object(K.jsx)(D.b,{to:"https://travel-app-prod.herokuapp.com/country/".concat(t),children:Object(K.jsxs)(ne.a,{onClick:function(){return r(t)},children:[Object(K.jsx)(ce.a,{component:"img",alt:"Contemplative Reptile",height:"140",image:i,title:"Contemplative Reptile"}),Object(K.jsxs)(re.a,{children:[Object(K.jsx)(V.a,{className:n.countryCardTitle,gutterBottom:!0,variant:"h4",component:"h2",children:c}),Object(K.jsx)(V.a,{gutterBottom:!0,variant:"h6",component:"h2",children:a}),Object(K.jsx)(V.a,{className:n.countryCardInfo,variant:"body2",color:"textSecondary",component:"p",children:o})]})]})}),Object(K.jsxs)(ie.a,{children:[Object(K.jsx)(D.b,{to:"https://travel-app-prod.herokuapp.com/country/".concat(t),onClick:function(){return r(t)},children:Object(K.jsx)(F.a,{size:"small",color:"primary",children:"Go"})}),Object(K.jsx)(F.a,{size:"small",color:"primary",children:"Like"})]})]},t)}))})]})})),at=Object(o.b)(null,{setCountries:function(e){return{type:j,countries:e}},setCountryId:y,toogleIsLoading:w,onSearch:k})((function(e){e.pathname;var t=Object(E.a)(e,["pathname"]);return Object(n.useEffect)((function(){R.a.get("https://travel-app-prod.herokuapp.com/countries").then((function(e){var a=e.data;t.setCountries(a),t.toogleIsLoading(!1),t.onSearch("")}))}),[]),Object(K.jsxs)(D.a,{children:[Object(K.jsx)(et,{}),Object(K.jsxs)("div",{className:"container",style:{paddingBottom:"200px"},children:[Object(K.jsxs)(U.c,{children:[Object(K.jsx)(U.a,{path:"/",component:tt,exact:!0}),Object(K.jsx)(U.a,{path:"/auth",component:te}),Object(K.jsx)(U.a,{path:"/country/:id",component:Ne})]}),Object(K.jsx)(De,{})]})]})}));i.a.render(Object(K.jsx)(o.a,{store:L,children:Object(K.jsx)(at,{})}),document.getElementById("root"))}},[[172,1,2]]]);
//# sourceMappingURL=main.1532c8da.chunk.js.map